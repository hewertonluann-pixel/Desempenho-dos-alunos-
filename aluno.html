<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel do Aluno</title>
  <link rel="stylesheet" href="aluno.css" />
</head>
<body>

  <h1 class="titulo">ğŸµ OlÃ¡, <span id="nomeAluno"></span>!</h1>

  <div class="painel-wrapper">

    <!-- ==================== COLUNA 1 â€” CARD DO ALUNO ==================== -->
    <div class="card-aluno">

      <!-- FOTO -->
      <div class="foto">
        <img id="fotoAluno" src="" alt="Foto do aluno">
      </div>

      <div class="instrumento" id="instrumentoAluno"></div>

      <!-- ENERGIA -->
      <div class="pontuacao energia">
        âš¡ Energia
        <div class="barra-frequencia">
          <div class="nivel" id="barraEnergia"></div>
        </div>
        <small><span id="valorEnergia">0</span>%</small>
      </div>

      <!-- PONTUAÃ‡Ã•ES -->
      <div class="pontuacoes-lado">
        <div class="bloco">
          <label>ğŸ§® NÃ­vel</label>
          <span id="nivelGeral">--</span>
        </div>
        <div class="bloco">
          <label>ğŸ“˜ Leitura</label>
          <span id="nivelLeitura">--</span>
        </div>
        <div class="bloco">
          <label>ğŸ¯ MÃ©todo</label>
          <span id="nivelMetodo">--</span>
        </div>
      </div>

      <!-- FOTO / SENHA -->
      <div class="senha-link" id="boxAlterarSenha">
        <a href="#" onclick="abrirPopup()">ğŸ”’ Alterar senha</a>
      </div>

      <div class="alterar-foto" id="boxAlterarFoto">
        <label for="novaFoto">ğŸ–¼ï¸ Alterar foto</label>
        <input type="file" id="novaFoto" accept="image/*" onchange="enviarNovaFoto()" />
      </div>

    </div>

    <!-- ==================== COLUNA 2 E 3 â€” ÃREA DE ABAS ==================== -->
    <div class="painel-central">

      <!-- ABAS -->
      <div class="abas">
        <button class="aba ativa" data-aba="abaConquistas">ğŸ† Conquistas</button>
        <button class="aba" data-aba="abaFrequencia">ğŸ“… FrequÃªncia</button>
        <button class="aba" data-aba="abaLicoes">ğŸ¤ LiÃ§Ãµes</button>
      </div>

      <!-- ÃREA DE CONTEÃšDO (troca dinÃ¢mica) -->
      <div class="conteudo-abas">

        <!-- === ABA CONQUISTAS === -->
        <div id="abaConquistas" class="conteudo-aba ativo">
          <h2>ğŸ† Conquistas</h2>
          <div id="grade-conquistas" class="grade-conquistas"></div>
        </div>

        <!-- === ABA FREQUÃŠNCIA === -->
        <div id="abaFrequencia" class="conteudo-aba">
          <h2>ğŸ“… FrequÃªncia Anual</h2>
          <div id="gradeFrequencia" class="grade-frequencia"></div>

          <div class="controle-ano">
            <button id="anoAnterior" class="seta">&lt;</button>
            <span id="anoAtualTexto"></span>
            <button id="anoProximo" class="seta">&gt;</button>
          </div>
        </div>

        <!-- === ABA LIÃ‡Ã•ES === -->
        <div id="abaLicoes" class="conteudo-aba">
          <h2>ğŸ¤ LiÃ§Ãµes enviadas</h2>

          <button class="btn-enviar-licao" onclick="abrirModalEnviarLicao()">
            â• Enviar nova liÃ§Ã£o
          </button>

          <div id="listaLicoes" class="lista-licoes"></div>
        </div>

      </div>

    </div><!-- painel-central -->

  </div> <!-- painel-wrapper -->

  <!-- POPUP FREQUÃŠNCIA -->
  <div id="popupFrequencia" class="popup" style="display:none;">
    <div class="popup-conteudo"></div>
  </div>

  <!-- POPUP SENHA -->
  <div id="popupSenha" class="popup">
    <div class="popup-conteudo">
      <h2>Alterar senha</h2>
      <input type="password" id="novaSenha" placeholder="Nova senha" />
      <button onclick="salvarSenha()">Salvar</button>
      <p id="mensagemSenha"></p>
      <span class="fechar" onclick="fecharPopup()">Ã—</span>
    </div>
  </div>

  <!-- MODO PROFESSOR -->
  <div class="modo-professor" id="modoProfessorBtn" style="display:none;">
    <button onclick="acessarModoProfessor()">ğŸ‘¨â€ğŸ« Acessar modo Professor</button>
  </div>

  <!-- PAINEL SOCIAL -->
  <div class="quadro-geral-link">
    <a href="painel-social.html">ğŸ‘¥ Painel Social da Orquestra</a>
  </div>

  <!-- SCRIPTS -->
  <script type="module" src="aluno.js"></script>
  <script type="module" src="navegacao.js"></script>
  <script type="module" src="licoes.js"></script>

  <!-- SCRIPT DAS ABAS -->
  <script>
    document.querySelectorAll(".aba").forEach(btn => {
      btn.addEventListener("click", () => {
        document
          .querySelectorAll(".aba")
          .forEach(a => a.classList.remove("ativa"));
        btn.classList.add("ativa");

        const destino = btn.dataset.aba;

        document
          .querySelectorAll(".conteudo-aba")
          .forEach(box => box.classList.remove("ativo"));

        document.getElementById(destino).classList.add("ativo");
      });
    });
  </script>

</body>
</html>
