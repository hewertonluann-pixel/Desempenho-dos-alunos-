<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel Gerencial üéµ</title>
  <link rel="stylesheet" href="professor.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    /* Modais e Styles Cr√≠ticos (integrados ao professor.css para consist√™ncia) */
    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
      color: #22d3ee;
      font-size: 2rem;
    }

    .usuario-logado {
      text-align: center;
      opacity: 0.85;
      margin-bottom: 20px;
      font-size: 1rem;
      color: #94a3b8;
    }

    .layout-professor {
      display: flex;
      gap: 20px;
      padding: 15px 20px;
      margin-top: 20px;
      min-height: 70vh;
    }

    .coluna-botoes-prof {
      flex: 0 0 250px;
    }

    .card-botoes-prof {
      background: rgba(15, 23, 42, 0.85);
      border-radius: 14px;
      padding: 18px 16px;
      border: 1px solid rgba(56, 189, 248, 0.3);
      box-shadow: 0 0 20px rgba(15, 118, 255, 0.25);
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: sticky;
      top: 20px;
    }

    .titulo-card-prof {
      text-align: center;
      color: #22d3ee;
      font-size: 1.2rem;
      margin-bottom: 12px;
      font-weight: bold;
    }

    .card-botoes-prof button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(145deg, #0ea5e9, #0284c7);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: 0.2s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .card-botoes-prof button:hover {
      background: linear-gradient(145deg, #0284c7, #0369a1);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      z-index: 99999;
      backdrop-filter: blur(4px);
    }

    .modal.ativo {
      display: flex;
      animation: aparecer 0.3s ease;
    }

    .modal-conteudo {
      background: linear-gradient(145deg, #1e293b, #334155);
      padding: 26px 24px;
      border-radius: 14px;
      box-shadow: 0 0 24px rgba(0, 0, 0, 0.7);
      text-align: center;
      width: 92%;
      max-width: 420px;
      color: #f9fafb;
    }

    .modal-conteudo h2 {
      color: #22d3ee;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .campo-modal {
      margin-bottom: 12px;
      text-align: left;
    }

    .campo-modal input {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #475569;
      background: #0f172a;
      color: #e2e8f0;
      font-size: 1rem;
    }

    .botoes-modal {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .btn-adicionar {
      background: #22c55e;
      color: #022c22;
      border: none;
      padding: 10px;
      border-radius: 8px;
      flex: 1;
      cursor: pointer;
      font-weight: bold;
    }

    .btn-cancelar {
      background: #dc2626;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 8px;
      flex: 1;
      cursor: pointer;
      font-weight: bold;
    }

    .btn-adicionar:hover {
      background: #16a34a;
    }

    .btn-cancelar:hover {
      background: #b91c1c;
    }

    /* === Responsividade === */
    @media (max-width: 768px) {
      .layout-professor {
        flex-direction: column;
      }

      .coluna-botoes-prof {
        flex: none;
      }

      .card-botoes-prof {
        position: static;
      }

      .modal-conteudo {
        max-width: 90%;
      }
    }

    /* === Anima√ß√£o para modais === */
    @keyframes aparecer {
      from { opacity: 0; transform: translateY(-20px) scale(0.95); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }
  </style>
</head>

<body>

  <!-- CABE√áALHO -->
  <!-- NAV (se tiver) -->
  <script type="module" src="navegacao.js"></script>

  <h1>Painel Gerencial üé∂</h1>
  <div id="usuarioLogado">-</div>

  <!-- LAYOUT PRINCIPAL -->
  <div class="layout-professor">

    <!-- MENU LATERAL -->
    <div class="coluna-botoes-prof">
      <div class="card-botoes-prof">
        <h2 class="titulo-card-prof">Menu do Professor</h2>
        <button id="btnAdicionarAluno">‚ûï Adicionar Aluno</button>
        <button id="btnMostrarAlunos">üë• Gerenciar Alunos</button>
        <button id="btnModoAluno">üéì Modo Aluno</button>
        <button id="btnCriarChamada">üìã Chamada do Dia</button>
        <button onclick="window.location.href='gerenciar-eventos.html'">üóÇÔ∏è Gerenciar Chamadas</button>
        <button id="btnMostrarLicoes">üé™ Gerenciar Li√ß√µes</button>
        <button onclick="exportarPDF()">üìÑ Exportar PDF</button>
        <button id="btnRecalcularEnergia">‚ö° Recalcular Energia</button>
      </div>
    </div>

    <!-- CONTE√öDO PRINCIPAL -->
    <div style="flex: 1;">
      <!-- PAINEL DE LI√á√ïES (toggle via bot√£o) -->
      <div class="painel-licoes-prof" id="painelLicoesProf" style="display:none;"></div>

      <!-- PAINEL DE ALUNOS -->
      <div class="painel" id="painel" style="display:none;"></div>

      <div id="loader" class="loader" style="display:none;">
        <div class="spinner"></div>
        <p>Carregando alunos...</p>
      </div>
    </div>

  </div>

  <!-- MODAIS -->
  <!-- MODAL ADICIONAR ALUNO -->
  <div id="modalAdicionar" class="modal">
    <div class="modal-conteudo">
      <h2>‚ûï Novo Aluno</h2>
      <div class="campo-modal">
        <label>Nome</label>
        <input type="text" id="novoNome" required />
      </div>
      <div class="campo-modal">
        <label>Instrumento</label>
        <input type="text" id="novoInstrumento" required />
      </div>
      <div class="campo-modal">
        <label>Foto</label>
        <input type="file" id="novoFoto" accept="image/*" />
      </div>
      <div class="campo-modal">
        <label>M√©todo de Solfejo</label>
        <input type="text" id="novaLeitura" placeholder="ex.: Bona" />
      </div>
      <div class="campo-modal">
        <label>M√©todo Instrumental</label>
        <input type="text" id="novoMetodo" placeholder="ex.: Amadeu Russo" />
      </div>
      <div class="botoes-modal">
        <button id="btnConfirmarAdicionar" class="btn-adicionar">Adicionar</button>
        <button id="btnCancelarAdicionar" class="btn-cancelar">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- MODAL SOLFEJO -->
  <div id="modalSolfejo" class="modal">
    <div class="modal-conteudo">
      <span class="fechar-modal" onclick="this.parentElement.parentElement.style.display='none'">&times;</span>
      <h2>‚úèÔ∏è M√©todo de Solfejo</h2>
      <div class="campo-modal">
        <input type="text" id="editSolfejo" placeholder="ex.: Bona" />
      </div>
      <div class="botoes-modal">
        <button id="btnSalvarSolfejo" class="btn-salvar">üíæ Salvar</button>
        <button id="btnCancelSolfejo" class="btn-cancelar">‚ùå Cancelar</button>
      </div>
    </div>
  </div>

  <!-- MODAL INSTRUMENTAL -->
  <div id="modalInstrumental" class="modal">
    <div class="modal-conteudo">
      <span class="fechar-modal" onclick="this.parentElement.parentElement.style.display='none'">&times;</span>
      <h2>üéµ M√©todo Instrumental</h2>
      <div class="campo-modal">
        <input type="text" id="editInstrumental" placeholder="ex.: Amadeu Russo" />
      </div>
      <div class="botoes-modal">
        <button id="btnSalvarInstrumental" class="btn-salvar">üíæ Salvar</button>
        <button id="btnCancelInstrumental" class="btn-cancelar">‚ùå Cancelar</button>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script type="module" src="professor.js"></script>

</body>
</html>
